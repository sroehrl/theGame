<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>How to</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gaudiamus-css@latest/css/gaudiamus.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Cutive+Mono&display=swap" rel="stylesheet">
    <style>
        a {
            color: white;
        }
    </style>
</head>
<body class="p-t-3">
<div class="container bg-black-75 b-rounded text-white p-2">
    <a href="index.html" class="cursor-pointer p-x-3 p-y-1 b-1 b-rounded-2 b-primary bg-transparent text-white hover:bg-primary">
        home
    </a>
    <h1>The control panel</h1>

    <p>
        Welcome. In general, objects on the map can be clicked for current information. Be aware that information
        displayed in the hud is outdated as soon as you click it.
        You will have to work with events and callbacks to react on certain things. <br>
        Your objective is to regain the former glory of the family business. To do so, collect resources to build more
        ships.
    </p>
    <p>
        After manipulating your code, press the
        <button class="cursor-pointer p-x-3 p-y-1 b-1 b-rounded-2 b-primary bg-transparent text-white hover:bg-primary"
                disabled>execute
        </button>
        button in order to run it. <strong>But be careful:</strong> Many methods are asynchronous and code might still
        be running from the last execution!
    </p>
    <p>
        TIP: use the global function `logger` for shallow logging into the output console.
    </p>
    <h3>About events</h3>
    <p>
        You can register a callback function using the <strong>.on-method</strong> every entity has. Be aware that only
        <strong>one</strong>
        callback can be registered at a time. This means that
    </p>
    <div class="bg-black p-2">
        <code>starShips[0].on("arrived", ship => logger('I am here'));</code> <br>
        <code>starShips[0].on("arrived", ship => logger('And now a second time'));</code>
    </div>
    <p>will only fire "And now a second time" as the first callback is overwritten. Place your callback functions
        accordingly!</p>

    <h2>Exposed Variables</h2>
    <div class="grid-6-6">
        <div><strong>Variable</strong></div>
        <div><strong>Description</strong></div>
        <p>starShips</p>
        <p>
            Array of available <a href="#spaceship">spaceShips</a> (you are starting with one)
        </p>
        <p>spaceStation</p>
        <p>
            Your uncle's station. <a href="#spaceStation">This</a> is where cargo gets unloaded, fuel refined and ships
            built.
        </p>
        <p>planets</p>
        <p>
            Array of available <a href="#planet">planets</a>. This is where you mine resources.
        </p>
    </div>
    <h2 id="spaceship">spaceShip</h2>
    <p>A spaceShip requires fuel to do its duty! Make sure to supply it with enough before sending into into space.</p>
    <div class="grid-4-4-4">
        <div><strong>Method</strong></div>
        <div><strong>Timing</strong></div>
        <div><strong>Arguments</strong></div>
        <p>getPosition()</p>
        <p>synchronous</p>
        <p>returns current coordinates as an array with two values</p>
        <p>getFuel()</p>
        <p>synchronous</p>
        <p>returns current fuel-level of ship</p>
        <p>getCargo()</p>
        <p>synchronous</p>
        <p>returns an object (e.g. {type: 'water', amount: 300}) indicating current cargo</p>
        <p>setDestination(x,y)</p>
        <p>synchronous</p>
        <p>sets autopilot to coordinates (does not start flight!)</p>
        <p>extract(planet)</p>
        <p>asynchronous (depending on pressure)</p>
        <p>expects an instance of a planet and mines its resource</p>
        <p>unload(entity)</p>
        <p>asynchronous (depending on various factors)</p>
        <p>You can unload at the station, other ships or planets. Cargo dumped at a planet will be lost and other ships
            might have limited capacity! Example: starShips[0].unload(spaceStation)</p>
        <p>fly()</p>
        <p>asynchronous (depending on distance)</p>
        <p>Executes the autopilot and flies to defined destination.</p>
        <div><strong>Event</strong></div>
        <div><strong>Returns</strong></div>
        <div><strong>Description</strong></div>
        <p>idle</p>
        <p>instance</p>
        <p>Fired when ship is not moving (anymore)</p>
        <p>arrived</p>
        <p>instance</p>
        <p>Fired when destination is reached</p>
        <p>cargoAccepted</p>
        <p>instance</p>
        <p>Fired when cargo was successfully received (by another ship, not through mining)</p>
        <p>isMining</p>
        <p>instance</p>
        <p>Fired when ship started extracting</p>
    </div>
    <h2 id="spaceStation">spaceStation</h2>
    <p>At the center of your operation is your space station. Located between three planets of interest, this is where
        things come together.</p>
    <div class="grid-4-4-4">
        <div><strong>Method</strong></div>
        <div><strong>Timing</strong></div>
        <div><strong>Arguments</strong></div>
        <p>getFuelTank()</p>
        <p>synchronous</p>
        <p>Returns the amount of fuel stored. As the station has external tanks, the capacity is virtually
            unlimited.</p>
        <p>getCoords()</p>
        <p>synchronous</p>
        <p>Returns the coordinates as an array of two values.</p>
        <p>getResources()</p>
        <p>synchronous</p>
        <p>Returns an object showing current resource levels (e.g. {water:50, o3:100, iron:111})</p>
        <p>buildShip()</p>
        <p>asynchronous / 30 seconds</p>
        <p>
            Builds a ship and places it in its hangar. This requires: <br>
            fuel: 500 <br>
            o3: 500 <br>
            water: 1000 <br>
            iron: 5000 <br>
            If any of the prerequisites aren't met, the built fails.
        </p>
        <p>refineFuel()</p>
        <p>asynchronous / depending on amount of o3</p>
        <p>It requires 2.2 o3 to refine one unit of fuel. Needless to say, this will be your biggest challenge.</p>
        <div><strong>Event</strong></div>
        <div><strong>Returns</strong></div>
        <div><strong>Description</strong></div>
        <p>cargoAccepted</p>
        <p>instance</p>
        <p>Fired when a ship unloaded cargo successfully.</p>
        <p>builtShip</p>
        <p>new starShip instance</p>
        <p>Fired when a ship was successfully built. Caution: The new ship is already placed in the global starShips-array. Don't add it again!</p>
        <p>refinedFuel</p>
        <p>instance</p>
        <p>Fired when o3 was converted to fuel.</p>
    </div>
    <h2 id="planet">planet</h2>
    <p>There are three planets in your area. They contain water, iron and o3. Mining them will keep you afloat.</p>
    <div class="grid-4-4-4">
        <div><strong>Method</strong></div>
        <div><strong>Timing</strong></div>
        <div><strong>Arguments</strong></div>
        <p>getCoords()</p>
        <p>synchronous</p>
        <p>Returns coordinates as an array with two values.</p>
        <div><strong>Event</strong></div>
        <div><strong>Returns</strong></div>
        <div><strong>Description</strong></div>
        <p>cargoAccepted</p>
        <p>instance</p>
        <p>Fired when a ship dumped cargo. Other than the ship loosing its cargo, this has no effect on the planet.</p>
        <p>mined</p>
        <p>instance of mining entity (ship)!</p>
        <p>Fired when a beam successfully extracted resources until the cargo bay was full.</p>
    </div>
</div>
</body>
</html>